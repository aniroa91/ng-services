@(rs: (Array[(Int, Int, Double, Double)], Array[(Int, Double, Double)], Array[(String, Double, Double)]), email: String )

@import services.domain.CommonService.formatNumber
@import services.domain.CommonService.percent
@import services.domain.CommonService.format3Decimal

<!DOCTYPE html>

<html lang="en">
    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Dashboard Admin </title>

            <!-- Bootstrap -->
        @common.views.html.common.css("Churn",1)
    </head>
    @common.views.html.common.top("Paytv",1,"")
        <!-- top navigation -->
    <div class="top_nav">
        <div class="nav_menu">
            <nav>
                <div class="nav toggle" style="margin-bottom: 10px">
                    <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                </div>
                <ul class="nav navbar-nav navbar-right">
                    <li class="">
                        <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <img src="../assets/images/user.default.png" alt="">@email
                            <span class=" fa fa-angle-down"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-usermenu pull-right">
                            <li><a href="/logout"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>

        </div>
    </div>
        <!-- /top navigation -->
        <!-- page content -->
    <div class="right_col" role="main">
    @if(rs != null) {
        <input type="hidden" value="2018-03" id="month">
        <div class="row top_tiles">
            <div class="col-lg-6 col-sm-6 col-md-6 col-xs-12">
                <div class="x_panel tile" style="padding: 0px">
                    <div class="title disInline">
                        <span style="width: 90%">Churn Rate and Churn Percentage by Contract Time</span>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div id="churn1" style="width: auto; height: 350px;"></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-sm-6 col-md-6 col-xs-12">
                <div class="x_panel tile" style="padding: 0px">
                    <div class="title disInline">
                        <span style="width: 90%">Churn Rate and Churn Percentage by Contract Month </span>
                        <select class="form-control" style="width: 160px" onchange="getChurnJsonByAge(this)">
                            <option value="*">--- Choose Age ---</option>
                            @for(i <- 0 until rs._1.map(x=> x._2).sorted.distinct.toList.length){
                                <option value="@rs._1.map(x=> x._2).sorted.distinct.toList(i)">Month: @rs._1.map(x=> x._2).sorted.distinct.toList(i)</option>
                            }

                        </select>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div id="churn2" style="width: auto; height: 350px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row top_tiles">
            <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
                <div class="x_panel tile" style="padding: 0px">
                    <div class="title disInline">
                        <span style="width: 90%">Churn Rate and Churn Percentage by Contract Age by Region</span>
                        <select class="form-control" onchange="getJsonByStatus(this)" id="slStatus">
                            <option value="1">CTBTV</option>
                            <option value="0">Huy hop dong</option>

                        </select>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="chartWithOverlay animated slideInUp" id="chartWithOverlay">
                            <div id="container" style="width: auto; height: 650px;"></div>
                            <div class="overlay">
                                <span style="font-size: 16px;color: #0D3349">ChurnPert</span>
                                <div style="margin-bottom: 2px;margin-top: 4px"><div class="circle" style="background: #832d1d;"><span style="opacity: 0">1</span></div><span id="txtMin" style="color:#0D3349 ">@format3Decimal(rs._1.toSeq.map(x=>x._4).min)</span></div>
                                <div style="margin-bottom: 2px"><div class="circle" style="background: #832d1d;"><span style="opacity: 0">111</span></div><span style="color:#0D3349 ">@format3Decimal((rs._1.toSeq.map(x=>x._4).max -rs._1.toSeq.map(x=>x._4).min)/5*2)</span></div>
                                <div style="margin-bottom: 2px"><div class="circle" style="background: #832d1d;"><span style="opacity: 0">1111</span></div><span style="color:#0D3349 ">@format3Decimal((rs._1.toSeq.map(x=>x._4).max -rs._1.toSeq.map(x=>x._4).min)/5*3)</span></div>
                                <div><div class="circle" style="background: #832d1d"><span style="opacity: 0">11111</span></div><span id="txtMax" style="color:#0D3349 ">@format3Decimal(rs._1.toSeq.map(x=>x._4).max)</span></div>
                            </div>
                        </div>
                        @*<div class="chartWithOverlay animated slideInUp" id="chartWithOverlay0" style="">
                            <div id="container2" style="width: auto; height: 650px;"></div>
                            <div class="overlay">
                                <span style="font-size: 16px;color: #0D3349">ChurnPert</span>
                                <div style="margin-bottom: 2px;margin-top: 4px"><div class="circle" style="background: #8fc783;"><span style="opacity: 0">1</span></div><span style="color:#0D3349 ">@format3Decimal(rs._1.toSeq.map(x=>x._4).min)</span></div>
                                <div style="margin-bottom: 2px"><div class="circle" style="background: #8fc783;"><span style="opacity: 0">111</span></div><span style="color:#0D3349 ">@format3Decimal((rs._1.toSeq.map(x=>x._4).max -rs._1.toSeq.map(x=>x._4).min)/5*2)</span></div>
                                <div style="margin-bottom: 2px"><div class="circle" style="background: #8fc783;"><span style="opacity: 0">1111</span></div><span style="color:#0D3349 ">@format3Decimal((rs._1.toSeq.map(x=>x._4).max -rs._1.toSeq.map(x=>x._4).min)/5*3)</span></div>
                                <div><div class="circle" style="background: #8fc783"><span style="opacity: 0">11111</span></div><span style="color:#0D3349 ">@format3Decimal(rs._1.toSeq.map(x=>x._4).max)</span></div>
                            </div>
                        </div>*@
                    </div>
                </div>
            </div>
        </div>

    } else{
        <div class="row"><h2 class="noData-title">
            Sorry, This page is under construction, please come back later...</h2></div>
    }

    </div>
        <!-- /page content -->

        <!-- footer content -->
    <footer>
        <div class="pull-right">
            Dashboard Admin 21/09/2017
        </div>
        <div class="clearfix"></div>
    </footer>
        <!-- /footer content -->
    </div>
    </div>

        <!-- jQuery -->
    <script src="../assets/vendors/jquery/dist/jquery.min.js"></script>

        <!-- Bootstrap -->
    <script src="../assets/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- Custom Theme Scripts -->
    <script src="../assets/custom/js/custom.min.js"></script>
    <script type="text/javascript" src="../assets/javascripts/jsapi.js"></script>
        <!-- Hight chart -->
    <script src="../assets/javascripts/highcharts.js"></script>
    <script src="../assets/javascripts/exporting.js"></script>
    <script src="../assets/javascripts/highcharts-more.js"></script>
    <script src="../assets/javascripts/waitMe.js"></script>

    @if(rs != null) {
        @scripts(rs)
    }
    </body>
</html>