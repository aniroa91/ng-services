@(rs: churn.models.DetectResponse, month: String, email: String ,postUrl: Call)(implicit request: RequestHeader)

@import services.domain.CommonService.formatNumber
@import services.domain.CommonService.formatPattern
@import services.domain.CommonService.format3Decimal
@import churn.utils.CommonUtil
@import churn.utils.AgeGroupUtil

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Dashboard Admin </title>

            <!-- Bootstrap -->
        <link href="/assets/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
            <!-- Font Awesome -->
        <link href="/assets/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
            <!-- Custom Theme Style -->
        <link href="/assets/custom/css/custom.min.css" rel="stylesheet">
        <link href="/assets/custom/css/hover-min.css" rel="stylesheet">
        <link href="/assets/custom/css/animate.min.css" rel="stylesheet">
        <link href="/assets/custom/css/waitMe.css" rel="stylesheet">
        <link href="/assets/custom/css/orgChart.css" rel="stylesheet">
        <!-- bootstrap-daterangepicker -->
        <link href="/assets/datepicker/css/bootstrap-datepicker.css" rel="stylesheet">

        <link href="/assets/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
        <link href="/assets/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
        <link href="/assets/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
        <link href="/assets/vendors/datatables.net-fixedColumn/css/fixedColumn.bootstrap.min.css" rel="stylesheet">
        <style type="text/css">
                .top_nav .navbar-right {
                    width: auto;
                }
                .text-smInTab{
                    float: right;
                    color: #81f1f1!important;
                    font-size: 16px!important;
                }
                .text-lgInTab{
                    color: #ad1607!important;
                    font-size: 28px!important;
                }

                .boxInTab{
                    padding: 10px;
                    background-color: #73879C!important;
                }

                .nav-tabs>li.active>a, .nav-tabs>li.active>a:focus, .nav-tabs>li.active>a:hover {
                    color: #16a085;
                    font-weight: 600;
                    cursor: default;
                    background-color: #fff;
                    border: 1px solid #fff;
                    border-bottom-color: transparent;
                }

                .nav-tabs>li>a{
                    color: #fff;
                }

                .panel-primary{
                    border-color: #ddd;
                }

                .panel-primary>.panel-heading{
                    background-color: #1c2752;
                }

                .divLeft{
                    width: 230px
                }
                .boxCss{
                    color: white;
                }
                .boxText2{
                    height: 130px;
                    padding: 10px;
                }
                .boxText2:hover{
                    background-color: #0c91e5!important;
                }
                .titLbInTab{
                    position: relative;
                    margin: 0 0 0 10px;
                    z-index: 5;
                    padding: 0;
                    font-size: 16px;
                }
                .titLb{
                    position: relative;
                    margin: 0 0 0 10px;
                    z-index: 5;
                    padding: 0;
                    font-size: 24px;
                }
                .ibox{
                    float: right;
                    margin-top: 15px;
                    margin-right: 5px;
                }
                .iboxInTab{
                    float: right;
                    margin-right: 5px;
                }
                .custom_tooltip{
                    position: absolute;
                    z-index: 1000;
                    opacity: 1!important;
                    color: #0D3349;
                    border: 1px solid #ddd;
                    background: white;
                    padding: 10px;
                }
                .table-condensed{
                    font-size: 13px!important;
                }
                .circle {
                    margin-bottom: 5px;
                    display: inline-block;
                    border-radius: 50%;
                    min-width: 13px;
                    min-height: 13px;
                    color: white;
                    text-align: center;
                    line-height: 1;
                    box-sizing: content-box;
                    white-space: nowrap;
                }
                .circle:before {
                    content: "";
                    display: inline-block;
                    vertical-align: middle;
                    padding-top: 100%;
                    height: 0;
                }
                .circle span {
                    display: inline-block;
                    vertical-align: middle;
                }
                .highcharts-tooltip>span {
                    border: 1px solid silver;
                    border-radius: 3px;
                    box-shadow: 1px 1px 2px #888;
                    z-index: 9999!important;
                }
                .panel-heading {
                    padding: 10px 10px 0px!important;
                    border-bottom: 0px solid transparent!important;
                    border-top-left-radius: 3px;
                    border-top-right-radius: 3px;}
                .highcharts-credits{display: none;}
                .downTopMenu{
                    font-size: 16px;float: right;margin-top: 20px;margin-right: 13px;
                }
                .curSor{
                    cursor: pointer;
                }
                .dropdown-menu li {
                    width:229px;
                }
                .navTop{
                    margin-left: -41px;
                }
                .hight-light{    color: #26B99A;font-weight: 600;}
                .fa.pull-right {
                    margin-left: .3em;
                    margin-top: 1px;
                }
                .dropdown-menu li a{
                    font-size: 20px;
                    padding-top: 12px;
                }
                .nav-sm .navbar.nav_title a i{
                    margin:0px!important;
                }

                section{
                    margin:100px auto;
                    height:1000px;
                }

                .dropdown-menu>li>a{
                    white-space: inherit!important;
                }
                .noData-title {
                    margin-bottom: 13px;
                    text-align: center;
                    text-transform: uppercase;
                    font-weight: 300;
                    font-size: 40px;
                    color: #f60;
                    font-size: 2.5rem;
                }
                .title{
                    color: #fff;
                    background-color: #30827e;
                    border-bottom: 1px solid rgba(111,111,111,.13);
                    padding: .75rem 0.15rem;
                    font-size: 18px;
                }
                .title select{
                    float:right;cursor: pointer;width: 200px
                }
                .title span{
                    padding-left: 20px;
                }
                .disInline{
                    display: -webkit-inline-flex;
                    display: -ms-inline-flexbox;
                    display: inline-flex;
                    width: 100%;
                }
                ul.bar_tabs>li.active{
                    font-weight: 700;
                }
                .highcharts-contextbutton{display: none}
                .titFilter{
                    font-size: 18px;color: #16a085;
                    font-weight: 600;
                }
                .nav.navbar-nav>li>a{
                    color: #fff!important;
                }
                .nav.navbar-nav>li>a:hover,.top_nav .dropdown-menu li a:hover,.top_nav .nav .open>a, .top_nav .nav .open>a:focus, .top_nav .nav .open>a:hover, .top_nav .nav>li>a:focus, .top_nav .nav>li>a:hover{
                    color: #fff!important;
                    background: #16a085 !important;
                }
                .top_nav .dropdown-menu li a{
                    background: #2A3F54!important;
                    color: #fff!important;
                }
                .nav_title{
                    background: #2A3F54!important;
                }
                .left_col{
                    background: #e4e3e3;
                }
                #region{
                    max-height: 400px;
                    overflow-y: auto;
                }
                body{
                    background: #F7F7F7;
                    overflow:hidden;
                }
                .lineDiv{
                    border: 1px solid #eee;
                    margin: 10px 0px 10px 0px
                }
                .filter{
                    padding: 5px 0px 0px 10px;
                    margin-bottom: 20px;
                    color: #f90;
                    font-size: 18px;
                    background: #F7F7F7;
                }
                .btn-custom{
                    background: #fff;
                    border: transparent;
                    color: #555;
                }
                .activeLi{
                    background: #1ABB9C;
                    color: #fff;
                }

                .txtControl{
                    margin-top: 5px;
                    padding: 6px 12px;
                    font-size: 14px;
                    line-height: 1.42857143;
                    color: #fff;
                    background-color: #16a085;
                }

                /* Extra small devices (phones, 600px and down) */
                @@media only screen and (max-width: 599px) {
                .right_col{
                    min-height: 0px!important;
                    max-height: 600px;
                    overflow-y: auto;
                }
                }

                @@media only screen and (max-width: 767px) {
                .navbar-nav{
                    width: 100%;
                }
                }

                /* Medium devices (landscape tablets, 768px and up) */
                @@media only screen and (min-width: 992px) {
                .divRight{
                    margin-left: 0!important
                }
                }

                @@media only screen and (max-width: 991px) {
                .barIcon{
                    display: block!important;
                }
                }

                @@media only screen and (min-width: 600px) and (max-width: 1023px) {
                .right_col{
                    min-height: 0px!important;
                    max-height: 950px;
                    overflow-y: auto;
                }
                }

                /* Extra large devices (large laptops and desktops, 1200px and up) */
                @@media only screen and (min-width: 1024px) {
                .right_div2{
                    min-height: 0px!important;
                    max-height: 310px;
                    overflow-y: auto;
                }
                }

                @@media only screen and (min-width: 1601px) {
                .right_div2{
                    min-height: 0px!important;
                    max-height: 525px;
                    overflow-y: auto;
                }
                }

                @@media screen and (-webkit-min-device-pixel-ratio:0)
                {
                /* Safari and Chrome */
                .site_title {
                    margin-top: -15px;
                }

                }
        </style>

    </head>


    <body class="nav-md">
        <div class="container body">
            <div class="main_container">
                <div class="col-md-3 left_col sidenav divLeft">
                    <div class="left_col scroll-view">
                        <div class="navbar nav_title" style="border: 0;width: 100%!important;">

                            <ul class="navTop">
                                <li class="dropdown">
                                    <a href="/internet/age" class="site_title curSor dropdown-toggle">
                                        <i class="fa fa-home" aria-hidden="true"></i> INTERNET
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="clearfix"></div>
                        <br />
                            <!-- sidebar menu -->
                        <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                            <div class="col-xs-12 filter"><i class="fa fa-filter"></i> FILTERING </div>
                            <div class="menu_section divGroup col-xs-12" style="padding:0;">
                                <div class="col-xs-12 otherFilt" style="display: none">
                                    <span class="titFilter"><i class="fa fa-bell"></i> <span id="groupTit"></span> </span></i>
                                    <p class="txtControl" id="groupCont"></p>
                                </div>
                                <div class="col-xs-12 lineDiv otherFilt" style="display: none"></div>
                                <div class="col-xs-12" id="divStatus" style="height: 100px">
                                    <span class="titFilter"><i class="fa fa-bell"></i> Group Status</span></i>
                                    <select class="form-control" id="slStatus" style="cursor: pointer;margin-top: 10px">
                                        <option value="*">---Choose Status---</option>
                                    @for( (k,v) <- CommonUtil.STATUS_MAP){
                                        <option value="@v">@k</option>
                                    }
                                    </select>
                                </div>
                                <div class="col-xs-12 lineDiv"></div>
                                <div class="col-xs-12" id="divStatus" style="height: 125px">
                                    <span class="titFilter"><i class="fa fa-bell"></i> Group Month</span></i>
                                    <div class="input-group date" id="monthPicker" style="margin-top: 10px">
                                        <input type="text" id="monthGrp" class="form-control" value="@month" readonly="true" style="text-align: center;cursor: pointer;background-color: white" >
                                        <span class="input-group-addon" style="background-color: #5A738E!important;"><i class="fa fa-calendar" aria-hidden="true" style="color:white"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-xs-12 filter">
                                    <a id="apply" class="btn btn-xs btn-success" style="float: right;"><i class="fa fa-check-circle"></i> Apply</a>
                                    <a id="refresh" class="btn btn-xs btn-secondary" style="float: right;background: #6c757d;color: #fff"><i class="fa fa-refresh"></i> Refresh</a>
                                </div>
                            </div>

                        </div>
                            <!-- /sidebar menu -->
                    </div>
                </div>

                    <!-- top navigation -->
                <div class="top_nav">
                    <div class="nav_menu" style="background: #2A3F54">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="true">
                            <span class="sr-only">Toggle navigation</span>
                            <i class="fa fa-bars" aria-hidden="true" style="font-size: 26px"></i>
                        </button>
                        <nav class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav" style="float: right">
                                <li><a href="/internet/age"><i class="fa fa-user"></i> AGE </a>
                                </li>
                                <li><a href="/internet/region"><i class="fa fa-map-marker"></i> REGION PROFILE </a>
                                </li>
                                <li><a href="/internet/calllog"><i class="fa fa-bug"></i> CALLLOG </a>
                                </li>
                                <li><a href="/internet/checklist"><i class="fa fa-building"></i> CHECKLIST </a>
                                </li>
                                <li class="activeLi"><a href="/internet/detect"><i class="fa fa-exclamation"></i> PROBLEM DETECT </a>
                                </li>
                                <li>
                                    <a  href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                        <span class="user-profile dropdown-toggle" style="padding:13px 15px 12px;">
                                            <img src="../assets/images/user-default-white.png" alt="">@email
                                            <span class=" fa fa-angle-down"></span>
                                        </span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-usermenu">
                                        <li><a href="/logout"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>

                    </div>
                </div>
                    <!-- /top navigation -->
                    <!-- page content -->
                <div class="right_col" role="main">
                    <div class="divRight">
                        <div class="row top_tiles"> <div class="col-xs-12"><a class="barIcon" style="display: none;cursor: pointer;font-size: 26px;" onclick="triggerNavleft(this)"><i class="fa fa-bars"></i></a></div></div>

                        @if(rs != null) {
                            @helper.CSRF.formField
                            <input type="hidden" id="monthCurr" value="@month">
                            <input type="hidden" id="contractGrp" value="*">
                            <input type="hidden" id="cate">
                            <input type="hidden" id="cause">
                            <input type="hidden" id="complain" value="*">
                            <input type="hidden" id="maintain">
                            <input type="hidden" id="package" value="*">
                            <input type="hidden" id="region" value="*">
                            <input type="hidden" id="age" value="*">
                            <input type="hidden" id="_typeCsv">

                            <div class="row top_tiles">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="x_panel tile">
                                        <div class="x_content">
                                            <div class="animated flipInY col-lg-3 col-md-12 col-sm-12 col-xs-12" style="padding: 30px">
                                                <h2 class="hvr-pulse txtHead" style="margin-bottom: 20px; color: #832d1d"><i class="fa fa-credit-card-alt" aria-hidden="true"></i> CARD METRICS</h2>
                                                <div class="tile-stats boxCss" style="padding: 10px;height: 150px;background-color: #73879C">
                                                    <div class="count"> <span id="numCt" class="counter"> @formatPattern(rs.cardMetrics._1)</span> <i class="fa fa-book ibox" aria-hidden="true"></i></div>
                                                    <div class="titLb">Number of Contracts</div>
                                                </div>
                                            </div>

                                            <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
                                                <div class="row top_tiles">
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #fec44f">
                                                            <div class="count"><span id="churnCt" class="counter"> @formatPattern(rs.cardMetrics._2)</span> <i class="fa fa-book ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">Number of Churn Contracts</div>
                                                        </div>
                                                    </div>
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #fec44f">
                                                            <div class="count"><span id="churnRate" class="counter">@format3Decimal(rs.cardMetrics._2 * 100.0 / rs.cardMetrics._1)</span> %<i class="fa fa-bolt ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">Churn Rate</div>
                                                        </div>
                                                    </div>
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #fec44f">
                                                            <div class="count"><span id="churnPert" class="counter"> @format3Decimal(rs.cardMetrics._3 * 100.0 / rs.cardMetrics._2)</span> %<i class="fa fa-bolt ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">Churn Percentage</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row top_tiles">
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #66c2a4">
                                                            <div class="count"><span id="f1score" class="counter">@format3Decimal(2.00 * (rs.cardMetrics._2 * 100.0 / rs.cardMetrics._1 * rs.cardMetrics._3 * 100.0 / rs.cardMetrics._2) / (rs.cardMetrics._2 * 100.0 / rs.cardMetrics._1 + rs.cardMetrics._3 * 100.0 / rs.cardMetrics._2))</span> <i class="fa fa-star-o ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">F1 Score</div>
                                                        </div>
                                                    </div>
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #66c2a4">
                                                            <div class="count"><span id="numCall" class="counter"> @formatPattern(rs.cardMetrics._4)</span> <i class="fa fa-phone ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">Have Call</div>
                                                        </div>
                                                    </div>
                                                    <div class="boxCss col-lg-4 col-md-4 col-sm-12 col-xs-12">
                                                        <div class="tile-stats boxText2" style="background-color: #66c2a4">
                                                            <div class="count"><span id="numCheck" class="counter"> @formatPattern(rs.cardMetrics._5)</span> <i class="fa fa-check ibox" aria-hidden="true"></i></div>
                                                            <div class="titLb">Have Checklist</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="panel with-nav-tabs panel-primary">
                                <div class="panel-heading">
                                    <ul class="nav nav-tabs">
                                        <li class="active"><a class="tab1" style="cursor: pointer">Overall</a></li>
                                        <li><a class="tab2" style="cursor: pointer">Checklist</a></li>
                                        <li><a class="tab3" style="cursor: pointer">Call</a></li>
                                        <li><a class="tab4" style="cursor: pointer">Complain</a></li>
                                        <li><a class="tab5" style="cursor: pointer">Indicators</a></li>
                                    </ul>
                                </div>
                                <div class="panel-body">
                                    <div class="tab-content right_div2">
                                        <div class="tab-pane fade in active" id="tab1">
                                            <div class="row top_tiles">
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <ul id="basic-interaction" class="hide">
                                                                <li>
                                                                    <em><b class="child">Total</b> <br> @formatPattern(rs.numCallChecklist._1.toInt + rs.numCallChecklist._2.toInt+rs.numCallChecklist._3.toInt+rs.numCallChecklist._4.toInt)</em>
                                                                    <ul>
                                                                        <li>
                                                                            <b class="child">Call Yes</b><br>
                                                                            @formatPattern(rs.numCallChecklist._1.toInt + rs.numCallChecklist._2.toInt)
                                                                            <ul>
                                                                                <li><span class="parent" style="display: none">Call Yes</span><b class="child">Checklist Yes</b> <br> @formatPattern(rs.numCallChecklist._1.toInt)</li>
                                                                                <li><span class="parent" style="display: none">Call Yes</span><b class="child">Checklist No</b> <br> @formatPattern(rs.numCallChecklist._2.toInt)</li>
                                                                            </ul>
                                                                        </li>
                                                                        <li>
                                                                            <b class="child">Call No</b><br>
                                                                            @formatPattern(rs.numCallChecklist._3.toInt + rs.numCallChecklist._4.toInt)
                                                                            <ul>
                                                                                <li><span class="parent" style="display: none">Call No</span><b class="child">Checklist Yes</b> <br> @formatPattern(rs.numCallChecklist._3.toInt)</li>
                                                                                <li><span class="parent" style="display: none">Call No</span><b class="child">Checklist No</b> <br> @formatPattern(rs.numCallChecklist._4.toInt)</li>
                                                                            </ul>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>

                                                            <div id="chart"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-pie8" style="height: 290px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row top_tiles">
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-pie9" style="height: 290px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-pie10" style="height: 290px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="tab2">
                                            <div class="row top_tiles">
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-line5" style="height: 300px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div id="chart-line7" style="height: 310px"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row top_tiles">
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-col6" style="height: 350px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content divTbcsv">
                                                            <a onclick="exportCsv('checklist')" style="float: right;margin: 0px 15px 0px 0px" class="btn btn-success btn-xs"><i class="fa fa-download"></i> CSV</a>
                                                            <table class="data table table-bordered" id="tb13" style="width: 100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width: 10%">Contract</th>
                                                                        <th style="width: 15%">Create Date</th>
                                                                        <th style="width: 15%">End Date</th>
                                                                        <th style="width: 60%">Content</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @for(i <- 0 until rs.topChecklistContent.length){
                                                                        <tr>
                                                                            <td style="width: 10%">@rs.topChecklistContent(i)._1</td>
                                                                            <td style="width: 15%">@rs.topChecklistContent(i)._2</td>
                                                                            <td style="width: 15%">@rs.topChecklistContent(i)._3</td>
                                                                            <td style="width: 60%">@rs.topChecklistContent(i)._4</td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="tab3">
                                            <div class="row top_tiles">
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-pie4" style="height: 370px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile" style="padding-top: 5px">
                                                        <div class="x_content divTbcsv">
                                                            <a onclick="exportCsv('callog')" style="float: right;margin: 0px 15px 0px 0px" class="btn btn-success btn-xs"><i class="fa fa-download"></i> CSV</a>
                                                            <table class="data table table-bordered" id="tb12" style="width: 100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width: 10%">Contract</th>
                                                                        <th style="width: 15%">Time</th>
                                                                        <th style="width: 75%">Content</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                @for(i <- 0 until rs.topCallContent.length){
                                                                    <tr>
                                                                        <td style="width: 10%">@rs.topCallContent(i)._1</td>
                                                                        <td style="width: 15%">@rs.topCallContent(i)._2</td>
                                                                        <td style="width: 75%">@rs.topCallContent(i)._3</td>
                                                                    </tr>
                                                                }
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="tab4">
                                            <div class="row top_tiles">
                                                <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12"></div>
                                                <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="x_panel tile">
                                                        <div class="x_content">
                                                            <div id="chart-pie3" style="height: 350px"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12"></div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="tab5">
                                            <div class="row top_tiles">
                                                <div class="boxCss col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="tile-stats boxInTab">
                                                        <div class="titLbInTab">Inf Error per Month <i class="fa fa-bug iboxInTab" aria-hidden="true"></i></div>
                                                        <div class="count text-lgInTab" id="errChurn"> @rs.indicators.infErrors(rs.indicators.infErrors.length-1)._3</div>
                                                        <div class="count text-smInTab" id="errAll"> @rs.indicators.infErrors(rs.indicators.infErrors.length-1)._2</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div id="splot-line1" style="height: 150px"></div>
                                                </div>
                                                <div class="boxCss col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="tile-stats boxInTab">
                                                        <div class="titLbInTab">Signin Anomaly per Month <i class="fa fa-sign-in iboxInTab" aria-hidden="true"></i></div>
                                                        <div class="count text-lgInTab" id="signinChurn"> @rs.indicators.signin(rs.indicators.signin.length-1)._3 </div>
                                                        <div class="count text-smInTab" id="signinAll"> @rs.indicators.signin(rs.indicators.signin.length-1)._2 </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div id="splot-line2" style="height: 150px"></div>
                                                </div>
                                            </div>

                                            <div class="row top_tiles">
                                                <div class="boxCss col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="tile-stats boxInTab">
                                                        <div class="titLbInTab">Failed ONU per Month <i class="fa fa-times-circle iboxInTab" aria-hidden="true"></i></div>
                                                        <div class="count text-lgInTab" id="suyhaoChurn"> @rs.indicators.suyhao(rs.indicators.suyhao.length-1)._3 </div>
                                                        <div class="count text-smInTab" id="suyhaoAll"> @rs.indicators.suyhao(rs.indicators.suyhao.length-1)._2 </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div id="splot-line3" style="height: 150px"></div>
                                                </div>

                                                <div class="boxCss col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="tile-stats boxInTab">
                                                        <div class="titLbInTab">Total Download per Month <i class="fa fa-download iboxInTab" aria-hidden="true"></i></div>
                                                        <div class="count text-lgInTab" id="downChurn"> @rs.indicators.download(rs.indicators.download.length-1)._3 GB</div>
                                                        <div class="count text-smInTab" id="downAll"> @rs.indicators.download(rs.indicators.download.length-1)._2 GB</div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div id="splot-line4" style="height: 150px"></div>
                                                </div>
                                            </div>

                                            <div class="row top_tiles">
                                                <div class="boxCss col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                                    <div class="tile-stats boxInTab">
                                                        <div class="titLbInTab">Monthly Paid Amount <i class="fa fa-money iboxInTab" aria-hidden="true"></i></div>
                                                        <div class="count text-lgInTab" id="feeChurn"> @formatPattern(rs.indicators.fee(rs.indicators.fee.length-1)._3.toInt) </div>
                                                        <div class="count text-smInTab" id="feeAll"> @formatPattern(rs.indicators.fee(rs.indicators.fee.length-1)._2.toInt) </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
                                                    <div id="splot-line5" style="height: 150px"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        } else{
                            <div class="row"><h2 class="noData-title">
                                Sorry, This page is under construction, please come back later...</h2></div>
                        }
                    </div>
                </div>
            </div>
        </div>

            <!-- jQuery -->
        <script src="/assets/vendors/jquery/dist/jquery.min.js"></script>
            <!-- Bootstrap -->
        <script src="/assets/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
            <!-- Custom Theme Scripts -->
        <script src="/assets/custom/js/custom.min.js"></script>
            <!-- Hight chart -->
        <script src="/assets/javascripts/highcharts.js"></script>
        <script src="/assets/javascripts/highcharts-3d.js"></script>
        <script src="/assets/javascripts/exporting.js"></script>
        <script src="/assets/javascripts/jquery.counterup.min.js"></script>
        <script src="/assets/javascripts/waitMe.js"></script>
        <script src="/assets/javascripts/waypoint.min.js"></script>
        <script src="/assets/javascripts/counterUp.min.js"></script>
        <script src="/assets/javascripts/common_churn.js"></script>
        <script src="/assets/javascripts/orgChart.js"></script>
        <script src="/assets/javascripts/drilldown.js"></script>
        <!--  Datepicker -->
        <script src="/assets/datepicker/js/bootstrap-datepicker.js"></script>

            <!-- Datatable -->
        <script src="/assets/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
        <script src="/assets/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <script src="/assets/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
        <script src="/assets/vendors/datatables.net-fixedColumn/js/dataTables.fixedColumn.min.js"></script>
        <script type="text/javascript">
                $(document).ready(function () {
                    $("#basic-interaction").orgChart({
                        container: $("#chart"),
                        interactive: true,
                        showLevels: 3
                    });

                    $('.counter').counterUp({
                        delay: 10,
                        time: 1000
                    });

                    // tab click
                    $('.nav-tabs li').click(function () {
                        var tabCurr = $('.nav-tabs li.active').find('a').attr('class')
                        var tab = $(this).find('a').attr('class')
                        if(tabCurr != tab){
                            $('.nav-tabs li').removeClass('in').removeClass('active')
                            $('.panel-body .tab-pane').removeClass('in').removeClass('active')
                            $('#'+tab).addClass('in').addClass('active')
                            $(this).addClass('in').addClass('active')
                            if(tab == "tab2"){
                                $('#tb13').dataTable( {
                                    dom: 'Bfrtip',
                                    "scrollY":        "310px",
                                    "scrollCollapse": true,
                                    "paging":         false,
                                    "info":     false,
                                    "searching":     false,
                                    "sort":     false,
                                    destroy: true
                                });
                            }
                            else if(tab == "tab3"){
                                $('#tb12').dataTable( {
                                    dom: 'Bfrtip',
                                    "scrollY":        "310px",
                                    "scrollCollapse": true,
                                    "paging":         false,
                                    "info":     false,
                                    "searching":     false,
                                    "sort":     false,
                                    destroy: true
                                });
                            }
                        }
                    })
                })

                function triggerNavleft(el) {
                    if($(el).hasClass('openLeft')){
                        $('.divLeft').attr('style','width: 0')
                        $('.divRight').removeAttr('style')
                        $(el).removeClass('openLeft')
                    }
                    else{
                        $(el).addClass('openLeft')
                        $('.divLeft').attr('style','width: 230px;display: block')
                        $('.divRight').attr('style','margin-left: 230px;')
                    }
                }
        </script>
        @if(rs != null) {
            @scripts(rs)
        }
    </body>
</html>