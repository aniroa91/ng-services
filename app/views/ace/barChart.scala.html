@(rows: Array[model.MalwareResponse])
@import play.api.libs.json.Json

<script type="text/javascript">
$(function () {
    var categories = @Html(Json.stringify(Json.toJson(rows.map(x => x.malware))));
    var queries = @Html(Json.stringify(Json.toJson(rows.map(x => x.queries))));
    var domains = @Html(Json.stringify(Json.toJson(rows.map(x => x.domains))));
    var clients = @Html(Json.stringify(Json.toJson(rows.map(x => x.clients))));

    var myChart = Highcharts.chart('bar-chart', {
        chart: {
            type: 'bar',
            height: '600px'
        },
        title: {
            text: 'Malicious'
        },
        xAxis: {
            categories: categories
        },
        yAxis: {
            title: {
                text: 'Queries/Domains/Clients'
            }
        },
        series: [{
            name: 'Queries',
            data: queries
        }, {
            name: 'Domains',
            data: domains
        }, {
            name: 'Clients',
            data: clients
        }]
    });
});
</script>